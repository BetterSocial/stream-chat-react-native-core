{"version":3,"sources":["ImageGalleryContext.tsx"],"names":["ImageGalleryContext","React","createContext","ImageGalleryProvider","children","images","setImages","image","setImage","imageGalleryContext","useImageGalleryContext","withImageGalleryContext","Component","WithImageGalleryContextComponent","props","displayName"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;;;;;;;;AA6BO,IAAMA,mBAAmB,GAAGC,kBAAMC,aAAN,CACjC,EADiC,CAA5B;;;;AAIA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAUE;AAAA,MADpCC,QACoC,QADpCA,QACoC;;AACpC,kBAA4B,qBAAoD,EAApD,CAA5B;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAA0B,sBAA1B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMC,mBAAmB,GAAG;AAC1BF,IAAAA,KAAK,EAALA,KAD0B;AAE1BF,IAAAA,MAAM,EAANA,MAF0B;AAG1BG,IAAAA,QAAQ,EAARA,QAH0B;AAI1BF,IAAAA,SAAS,EAATA;AAJ0B,GAA5B;AAOA,SACE,gCAAC,mBAAD,CAAqB,QAArB;AACE,IAAA,KAAK,EAAEG,mBADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGL,QAHH,CADF;AAOD,CA5BM;;;;AA8BA,IAAMM,sBAAsB,GAAG,SAAzBA,sBAAyB;AAAA,SASpC,uBAAWV,mBAAX,CAToC;AAAA,CAA/B;;;;AAmBA,IAAMW,uBAAuB,GAAG,SAA1BA,uBAA0B,CAUrCC,SAVqC,EAW6C;AAClF,MAAMC,gCAAgC,GAAG,SAAnCA,gCAAmC,CACvCC,KADuC,EAEpC;AACH,QAAML,mBAAmB,GAAGC,sBAAsB,EAAlD;AAEA,WAAO,gCAAC,SAAD,gCAAgBI,KAAhB,EAAiCL,mBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAND;;AAOAI,EAAAA,gCAAgC,CAACE,WAAjC,+BAAyE,oCACvEH,SADuE,CAAzE;AAGA,SAAOC,gCAAP;AACD,CAvBM","sourcesContent":["import React, { PropsWithChildren, useContext, useState } from 'react';\n\nimport { getDisplayName } from '../utils/getDisplayName';\n\nimport type { MessageType } from '../../components/MessageList/hooks/useMessageList';\nimport type {\n  DefaultAttachmentType,\n  DefaultChannelType,\n  DefaultCommandType,\n  DefaultEventType,\n  DefaultMessageType,\n  DefaultReactionType,\n  DefaultUserType,\n  UnknownType,\n} from '../../types/types';\n\nexport type ImageGalleryContextValue<\n  At extends UnknownType = DefaultAttachmentType,\n  Ch extends UnknownType = DefaultChannelType,\n  Co extends string = DefaultCommandType,\n  Ev extends UnknownType = DefaultEventType,\n  Me extends UnknownType = DefaultMessageType,\n  Re extends UnknownType = DefaultReactionType,\n  Us extends UnknownType = DefaultUserType,\n> = {\n  images: MessageType<At, Ch, Co, Ev, Me, Re, Us>[];\n  setImage: React.Dispatch<React.SetStateAction<{ messageId?: string; url?: string } | undefined>>;\n  setImages: React.Dispatch<React.SetStateAction<MessageType<At, Ch, Co, Ev, Me, Re, Us>[]>>;\n  image?: { messageId?: string; url?: string };\n};\n\nexport const ImageGalleryContext = React.createContext<ImageGalleryContextValue>(\n  {} as ImageGalleryContextValue,\n);\n\nexport const ImageGalleryProvider = <\n  At extends UnknownType = DefaultAttachmentType,\n  Ch extends UnknownType = DefaultChannelType,\n  Co extends string = DefaultCommandType,\n  Ev extends UnknownType = DefaultEventType,\n  Me extends UnknownType = DefaultMessageType,\n  Re extends UnknownType = DefaultReactionType,\n  Us extends UnknownType = DefaultUserType,\n>({\n  children,\n}: PropsWithChildren<UnknownType>) => {\n  const [images, setImages] = useState<MessageType<At, Ch, Co, Ev, Me, Re, Us>[]>([]);\n  const [image, setImage] = useState<{ messageId?: string; url?: string }>();\n\n  const imageGalleryContext = {\n    image,\n    images,\n    setImage,\n    setImages,\n  };\n\n  return (\n    <ImageGalleryContext.Provider\n      value={imageGalleryContext as unknown as ImageGalleryContextValue}\n    >\n      {children}\n    </ImageGalleryContext.Provider>\n  );\n};\n\nexport const useImageGalleryContext = <\n  At extends UnknownType = DefaultAttachmentType,\n  Ch extends UnknownType = DefaultChannelType,\n  Co extends string = DefaultCommandType,\n  Ev extends UnknownType = DefaultEventType,\n  Me extends UnknownType = DefaultMessageType,\n  Re extends UnknownType = DefaultReactionType,\n  Us extends UnknownType = DefaultUserType,\n>() =>\n  useContext(ImageGalleryContext) as unknown as ImageGalleryContextValue<\n    At,\n    Ch,\n    Co,\n    Ev,\n    Me,\n    Re,\n    Us\n  >;\n\nexport const withImageGalleryContext = <\n  P extends UnknownType,\n  At extends UnknownType = DefaultAttachmentType,\n  Ch extends UnknownType = DefaultChannelType,\n  Co extends string = DefaultCommandType,\n  Ev extends UnknownType = DefaultEventType,\n  Me extends UnknownType = DefaultMessageType,\n  Re extends UnknownType = DefaultReactionType,\n  Us extends UnknownType = DefaultUserType,\n>(\n  Component: React.ComponentType<P>,\n): React.FC<Omit<P, keyof ImageGalleryContextValue<At, Ch, Co, Ev, Me, Re, Us>>> => {\n  const WithImageGalleryContextComponent = (\n    props: Omit<P, keyof ImageGalleryContextValue<At, Ch, Co, Ev, Me, Re, Us>>,\n  ) => {\n    const imageGalleryContext = useImageGalleryContext<At, Ch, Co, Ev, Me, Re, Us>();\n\n    return <Component {...(props as P)} {...imageGalleryContext} />;\n  };\n  WithImageGalleryContextComponent.displayName = `WithImageGalleryContext${getDisplayName(\n    Component,\n  )}`;\n  return WithImageGalleryContextComponent;\n};\n"]}